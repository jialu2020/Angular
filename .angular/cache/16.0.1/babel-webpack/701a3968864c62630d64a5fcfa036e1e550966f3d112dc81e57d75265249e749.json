{"ast":null,"code":"import { Subject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shopping-list/shopping-list.service\";\nclass RecipeService {\n  constructor(sLService) {\n    this.sLService = sLService;\n    this.recipesChange = new Subject();\n    // recipes: Recipe[]= [\n    //     new Recipe('British shakshuka',\n    //     'This British shakshuka is fun! It’s the full English – sausages, bacon, mushrooms, tomatoes, beans and eggs – all cooked in one pan. And if you like a bit of brown sauce with your brekkie, it’s used to glaze the sausages and give a subtle tang to the tomato sauce.',\n    //     'https://ichef.bbci.co.uk/food/ic/food_16x9_1600/recipes/british_shakshuka_26737_16x9.jpg' ,\n    //     [ new Ingredients(\"tomate\", 3),\n    //      new Ingredients(\"sausage\", 6),\n    //      new Ingredients(\"onion\", 1),\n    //      new Ingredients(\"mushroom\", 200)]),\n    //\n    //\n    //     new Recipe('Pumpkin and bacon pasta with garlic crumbs',\n    //     'This is another simply description',\n    //     'https://img.taste.com.au/0b9HW71J/w720-h480-cfill-q80/taste/2016/11/pumpkin-and-bacon-pasta-with-garlic-crumbs-106172-1.jpeg',\n    //     [new Ingredients(\"garlic\", 1),\n    //     new Ingredients(\"pupkin\", 1),\n    //     new Ingredients(\"bacon\", 3),]),\n    //\n    //     new Recipe('Hot pot',\n    //     'The ultimate Chinese hot pot guide that explains the different types of broth, dipping sauces, ingredients and equipment, plus all you need to know to host a successful hot pot party. ',\n    //     'https://omnivorescookbook.com/wp-content/uploads/2018/12/230102_Hot-Pot-Guide_550.jpg',\n    //     [new Ingredients(\"sichuan pfeffer\" , 10 ),\n    //     new Ingredients(\"soup base\" , 1 ),\n    //     new Ingredients(\"Beef,\" , 5 ),\n    //     new Ingredients(\"lamb\" , 5 ),\n    //     new Ingredients(\"Shrimp\" , 5 ), ])\n    //\n    //   ];\n    this.recipes = [];\n  }\n  setRecipes(recipes) {\n    this.recipes = recipes;\n    //rewrite the array on the top with the recipe we provide -> (recipes)\n    this.recipesChange.next(this.recipes.slice()); // 把新的recipes通知给其他的地方\n    console.log(this.recipes);\n  }\n  getRecipes() {\n    return this.recipes.slice();\n  }\n  getRecipesById(id) {\n    return this.recipes.slice()[id];\n  }\n  getRecipeAmount() {\n    return this.recipes.length;\n  }\n  addIngredientsToShoppingList(ingredients) {\n    this.sLService.addIngredientsList(ingredients);\n  }\n  addRecipe(recipe) {\n    this.recipes.push(recipe);\n    this.recipesChange.next(this.recipes.slice());\n    console.log('recipes are : ');\n    console.log(this.recipes);\n  }\n  updateRecipe(index, newRecipe) {\n    this.recipes[index] = newRecipe;\n    this.recipesChange.next(this.recipes.slice());\n  }\n  deleteRecipe(index) {\n    this.recipes.splice(index, 1);\n    this.recipesChange.next(this.recipes.slice());\n    console.log(this.recipes);\n  }\n}\nRecipeService.ɵfac = function RecipeService_Factory(t) {\n  return new (t || RecipeService)(i0.ɵɵinject(i1.ShoppingListService));\n};\nRecipeService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: RecipeService,\n  factory: RecipeService.ɵfac\n});\nexport { RecipeService };","map":{"version":3,"names":["Subject","RecipeService","constructor","sLService","recipesChange","recipes","setRecipes","next","slice","console","log","getRecipes","getRecipesById","id","getRecipeAmount","length","addIngredientsToShoppingList","ingredients","addIngredientsList","addRecipe","recipe","push","updateRecipe","index","newRecipe","deleteRecipe","splice","i0","ɵɵinject","i1","ShoppingListService","factory","ɵfac"],"sources":["C:\\Users\\jiapl\\Documents\\GitHub\\Angular\\src\\app\\recipes\\recipe.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { Recipe } from \"./recipe.model\";\r\nimport { Ingredients } from \"../shared/ingredient.model\";\r\nimport { ShoppingListService } from \"../shopping-list/shopping-list.service\";\r\nimport {Subject} from \"rxjs\";\r\nimport {toJSDate} from \"@ng-bootstrap/ng-bootstrap/datepicker/ngb-calendar\";\r\n\r\n\r\n@Injectable()\r\nexport class RecipeService {\r\n    recipesChange = new Subject<Recipe[]>();\r\n\r\n\r\n    // recipes: Recipe[]= [\r\n    //     new Recipe('British shakshuka',\r\n    //     'This British shakshuka is fun! It’s the full English – sausages, bacon, mushrooms, tomatoes, beans and eggs – all cooked in one pan. And if you like a bit of brown sauce with your brekkie, it’s used to glaze the sausages and give a subtle tang to the tomato sauce.',\r\n    //     'https://ichef.bbci.co.uk/food/ic/food_16x9_1600/recipes/british_shakshuka_26737_16x9.jpg' ,\r\n    //     [ new Ingredients(\"tomate\", 3),\r\n    //      new Ingredients(\"sausage\", 6),\r\n    //      new Ingredients(\"onion\", 1),\r\n    //      new Ingredients(\"mushroom\", 200)]),\r\n    //\r\n    //\r\n    //     new Recipe('Pumpkin and bacon pasta with garlic crumbs',\r\n    //     'This is another simply description',\r\n    //     'https://img.taste.com.au/0b9HW71J/w720-h480-cfill-q80/taste/2016/11/pumpkin-and-bacon-pasta-with-garlic-crumbs-106172-1.jpeg',\r\n    //     [new Ingredients(\"garlic\", 1),\r\n    //     new Ingredients(\"pupkin\", 1),\r\n    //     new Ingredients(\"bacon\", 3),]),\r\n    //\r\n    //     new Recipe('Hot pot',\r\n    //     'The ultimate Chinese hot pot guide that explains the different types of broth, dipping sauces, ingredients and equipment, plus all you need to know to host a successful hot pot party. ',\r\n    //     'https://omnivorescookbook.com/wp-content/uploads/2018/12/230102_Hot-Pot-Guide_550.jpg',\r\n    //     [new Ingredients(\"sichuan pfeffer\" , 10 ),\r\n    //     new Ingredients(\"soup base\" , 1 ),\r\n    //     new Ingredients(\"Beef,\" , 5 ),\r\n    //     new Ingredients(\"lamb\" , 5 ),\r\n    //     new Ingredients(\"Shrimp\" , 5 ), ])\r\n    //\r\n    //   ];\r\n    private recipes : Recipe[] = [];\r\n        \r\n    \r\n    constructor(private sLService : ShoppingListService){}\r\n\r\n    setRecipes(recipes :Recipe[]){\r\n     this.recipes = recipes;\r\n     //rewrite the array on the top with the recipe we provide -> (recipes)\r\n     this.recipesChange.next(this.recipes.slice()) // 把新的recipes通知给其他的地方\r\n        console.log(this.recipes)\r\n\r\n    }\r\n\r\n    getRecipes(){\r\n        return this.recipes.slice();\r\n    }\r\n    getRecipesById(id : number){\r\n        return this.recipes.slice()[id];\r\n    }\r\n\r\n    getRecipeAmount(){\r\n        return this.recipes.length;\r\n    }\r\n    addIngredientsToShoppingList(ingredients :Ingredients[]){\r\n       this.sLService.addIngredientsList(ingredients);\r\n        }\r\n\r\n\r\n\r\n    addRecipe(recipe:Recipe){\r\n        this.recipes.push(recipe);\r\n        this.recipesChange.next(this.recipes.slice())\r\n        console.log('recipes are : ')\r\n        console.log(this.recipes)\r\n\r\n    }\r\n\r\n\r\n    updateRecipe(index:number ,newRecipe: Recipe){\r\n        this.recipes[index] = newRecipe;\r\n        this.recipesChange.next(this.recipes.slice())\r\n\r\n\r\n    }\r\n    deleteRecipe(index:number){\r\n        this.recipes.splice(index,1);\r\n        this.recipesChange.next(this.recipes.slice())\r\n        console.log(this.recipes)\r\n\r\n    }\r\n    }\r\n\r\n\r\n\r\n"],"mappings":"AAIA,SAAQA,OAAO,QAAO,MAAM;;;AAI5B,MACaC,aAAa;EAkCtBC,YAAoBC,SAA+B;IAA/B,KAAAA,SAAS,GAATA,SAAS;IAjC7B,KAAAC,aAAa,GAAG,IAAIJ,OAAO,EAAY;IAGvC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACQ,KAAAK,OAAO,GAAc,EAAE;EAGsB;EAErDC,UAAUA,CAACD,OAAiB;IAC3B,IAAI,CAACA,OAAO,GAAGA,OAAO;IACtB;IACA,IAAI,CAACD,aAAa,CAACG,IAAI,CAAC,IAAI,CAACF,OAAO,CAACG,KAAK,EAAE,CAAC,EAAC;IAC3CC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,OAAO,CAAC;EAE7B;EAEAM,UAAUA,CAAA;IACN,OAAO,IAAI,CAACN,OAAO,CAACG,KAAK,EAAE;EAC/B;EACAI,cAAcA,CAACC,EAAW;IACtB,OAAO,IAAI,CAACR,OAAO,CAACG,KAAK,EAAE,CAACK,EAAE,CAAC;EACnC;EAEAC,eAAeA,CAAA;IACX,OAAO,IAAI,CAACT,OAAO,CAACU,MAAM;EAC9B;EACAC,4BAA4BA,CAACC,WAA0B;IACpD,IAAI,CAACd,SAAS,CAACe,kBAAkB,CAACD,WAAW,CAAC;EAC7C;EAIJE,SAASA,CAACC,MAAa;IACnB,IAAI,CAACf,OAAO,CAACgB,IAAI,CAACD,MAAM,CAAC;IACzB,IAAI,CAAChB,aAAa,CAACG,IAAI,CAAC,IAAI,CAACF,OAAO,CAACG,KAAK,EAAE,CAAC;IAC7CC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IAC7BD,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,OAAO,CAAC;EAE7B;EAGAiB,YAAYA,CAACC,KAAY,EAAEC,SAAiB;IACxC,IAAI,CAACnB,OAAO,CAACkB,KAAK,CAAC,GAAGC,SAAS;IAC/B,IAAI,CAACpB,aAAa,CAACG,IAAI,CAAC,IAAI,CAACF,OAAO,CAACG,KAAK,EAAE,CAAC;EAGjD;EACAiB,YAAYA,CAACF,KAAY;IACrB,IAAI,CAAClB,OAAO,CAACqB,MAAM,CAACH,KAAK,EAAC,CAAC,CAAC;IAC5B,IAAI,CAACnB,aAAa,CAACG,IAAI,CAAC,IAAI,CAACF,OAAO,CAACG,KAAK,EAAE,CAAC;IAC7CC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,OAAO,CAAC;EAE7B;;AAhFSJ,aAAa,C;mBAAbA,aAAa,EAAA0B,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,mBAAA;AAAA;AAAb7B,aAAa,C;SAAbA,aAAa;EAAA8B,OAAA,EAAb9B,aAAa,CAAA+B;AAAA;SAAb/B,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}